<!doctype html><html lang=en><head><meta charset=utf-8><meta content="width=device-width,initial-scale=1.0" name=viewport><meta content="light dark" name=color-scheme><link href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css rel=stylesheet><link href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css rel=stylesheet><title>A demographic projection of Spain's native-born population: quantifying the stock of second-generation immigrants</title><meta content=summary_large_image name=twitter:card><meta content=@yourTwitterHandle name=twitter:site><meta content="A demographic projection of Spain's native-born population: quantifying the stock of second-generation immigrants" name=twitter:title><meta name=twitter:description><meta content=https://pablogguz.github.io/img/bull.png name=twitter:image><link href=/hl-light.css id=hl rel=stylesheet><link crossorigin href=https://cdn.jsdelivr.net/npm/katex@0.16.7/dist/katex.min.css integrity=sha384-3UiQGuEI4TTMaFmGIZumfRPtfKQ3trwQE2JgosJxCnGmQpL/lJdjpcHkaaFwHlcI rel=stylesheet><script crossorigin defer integrity=sha384-G0zcxDFp5LWZtDuRMnBkk3EphCK1lhEf4UEyEM693ka574TZGwo4IWwS6QLzM/2t src=https://cdn.jsdelivr.net/npm/katex@0.16.7/dist/katex.min.js></script><script crossorigin defer integrity=sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05 src=https://cdn.jsdelivr.net/npm/katex@0.16.7/dist/contrib/auto-render.min.js></script><script>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:'$$',right:'$$',display:true},{left:'$',right:'$',display:false},{left:'\\(',right:'\\)',display:false},{left:'\\[',right:'\\]',display:true}],throwOnError:false})})</script><link href=/img/blue.jpg rel=icon sizes=32x32 type=image/jpeg><link href="https://fonts.googleapis.com/css2?family=Libre+Franklin:wght@400;500;600;700&display=swap" rel=stylesheet><link href="https://fonts.googleapis.com/css2?family=Libre+Franklin:ital,wght@0,100..900;1,100..900&family=Noto+Sans:ital,wght@0,100..900;1,100..900&family=Open+Sans:ital,wght@0,300..800;1,300..800&display=swap" rel=stylesheet><link href=https://fonts.googleapis.com rel=preconnect><link crossorigin href=https://fonts.gstatic.com rel=preconnect><link href="https://fonts.googleapis.com/css2?family=Geist+Mono:wght@100..900&family=Geist:wght@100..900&display=swap" rel=stylesheet><style>@import url('https://fonts.googleapis.com/css2?family=Geist+Mono:wght@300;.copyright,.credits,400;500;600;700&display=swap');
  @import url('https://fonts.googleapis.com/css2?family=Geist:wght@100..900&display=swap');

  /* OR use this line instead for Geist Mono: */
  /* @import url('https://fonts.googleapis.com/css2?family=Geist+Mono:wght@300;400;500;600;700&display=swap') ; */

  /* ...existing disclaimer,copyright,credits styles... */
  .disclaimer{font-size:.8em}#myAvatar{width:110px!important;height:auto!important;border-radius:12px!important;box-shadow:0 4px 12px rgba(0,0,0,.1);transition:transform .2s ease,box-shadow .2s ease}#myAvatar:hover {transform:translateY(-2px);box-shadow:0 8px 24px rgba(0,0,0,.15)}.prose a{transition:all .2s ease!important;border-bottom:none!important;text-decoration:none!important;color:var(--primary-color)!important;position:relative}.prose a:after {content:'';position:absolute;width:0;height:1px;bottom:-2px;left:0;background:var(--primary-color);transition:width .3s ease}.prose a:hover:after {width:100%}#reading-time{font-size:.85em;color:var(--text-pale-color);font-weight:400}figcaption{font-size:18px;font-weight:700;text-align:center;color:--text-color;margin-bottom:10px}.figure-note{text-align:left;font-size:.8em!important;color:--text-color}.desc-button{font-size:.9em;color:var(--text-color);background:rgba(255,255,255,.8);backdrop-filter:blur(10px);border:1px solid var(--primary-pale-color);padding:8px 16px;border-radius:8px;cursor:pointer;outline:none;transition:all .2s ease;font-weight:500}.desc-button:hover {background:var(--primary-color);color:var(--bg-color);transform:translateY(-1px);box-shadow:0 4px 12px rgba(0,0,0,.1)}.desc-button .triangle{display:inline-block;transition:transform .3s ease}.desc-button.collapsed .triangle{transform:rotate(-90deg)}.desc{font-size:.9em;color:var(--text-color)}.desc-button,.link-button{height:42px;line-height:42px;text-decoration:none;margin-right:12px;margin-bottom:8px;transition:all .2s ease;background:rgba(255,255,255,.8);backdrop-filter:blur(10px);border:1px solid var(--primary-pale-color);color:var(--text-color);border-radius:8px;font-weight:500;padding:0 16px}div.buttons a.link-button{box-sizing:border-box;display:inline-flex;align-items:center;justify-content:center}div.buttons a.link-button:hover {background:var(--primary-color);color:var(--bg-color);transform:translateY(-1px);box-shadow:0 4px 12px rgba(0,0,0,.1)}.link-button i{margin-right:8px}.link-button{text-decoration:none}body{--primary-color:#4a90e2;--primary-pale-color:#4a90e215;--text-color:#2d3748;--text-pale-color:#718096;--bg-color:#fafbfc;--card-bg-color:#fff;--border-color:#e2e8f0;--highlight-mark-color:#4a90e225;--callout-note-color:#4a90e2;--callout-important-color:#805ad5;--callout-warning-color:#d69e2e;--callout-alert-color:#e53e3e;--callout-question-color:#38b2ac;--callout-tip-color:#38a169;--main-font:"Geist",ui-sans-serif,system-ui,-apple-system,
      BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,
      "Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji",
      "Segoe UI Symbol","Noto Color Emoji";--code-font:"Geist Mono",ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,
      "Liberation Mono","Courier New",monospace;--homepage-max-width:768px;--main-max-width:768px;--avatar-size:60px;--icon-size:20px;--homepage-font-size:16px;--homepage-line-height:1.75;--paragraph-font-size:16px;--paragraph-line-height:1.75;--aside-font-size:15px;--img-border-radius:8px;--inline-code-border-radius:4px;--inline-code-bg-color:var(--primary-pale-color);--block-code-border-radius:8px;--block-code-border-color:var(--border-color)}body.dark{--primary-color:#63b3ed;--primary-pale-color:#4a90e220;--text-color:#e2e8f0;--text-pale-color:#a0aec0;--bg-color:#0f1419;--card-bg-color:#1a202c;--border-color:#2d3748;--highlight-mark-color:#4a90e225;--callout-note-color:#63b3ed;--callout-important-color:#b794f6;--callout-warning-color:#f6d55c;--callout-alert-color:#fc8181;--callout-question-color:#4fd1c7;--callout-tip-color:#68d391}.links{display:flex;align-items:center;font-size:.85em;gap:16px}.modal{border:1px solid var(--border-color);border-radius:16px;padding:32px;max-width:600px;background:var(--card-bg-color);color:var(--text-color);box-shadow:0 25px 50px -12px rgba(0,0,0,.25);opacity:0;transform:scale(0.95) translateY(20px);transition:all .3s ease}.modal[open]{opacity:1;transform:scale(1) translateY(0)}.modal:backdrop {background:rgba(0,0,0,.4);backdrop-filter:blur(4px);opacity:0;transition:opacity .3s ease}.modal[open]:backdrop {opacity:1}.modal-content{font-size:.95em;line-height:1.6}.modal-content h3{margin-top:0;margin-bottom:24px;font-size:1.5em;font-weight:600;color:var(--primary-color)}.modal-content ul{padding-left:24px;margin:20px 0}.modal-content li{margin-bottom:12px}.modal-close{float:right;padding:12px 24px;margin-top:24px;background:var(--primary-color);color:var(--bg-color);border:none;border-radius:8px;font-size:.9em;font-weight:500;cursor:pointer;transition:all .2s ease}.modal-close:hover {background:var(--text-color);transform:translateY(-1px);box-shadow:0 4px 12px rgba(0,0,0,.15)}.modal-close:active {transform:translateY(0)}#coffee-btn{text-decoration:none;color:var(--primary-color);position:relative;transition:color .2s ease;font-weight:500}#coffee-btn:after {content:'';position:absolute;width:0;height:2px;bottom:-2px;left:0;background:var(--primary-color);transition:width .3s ease}#coffee-btn:hover {color:var(--primary-color)}#coffee-btn:hover:after {width:100%}</style><style>.projects-container{max-width:900px;margin:0 auto;padding:2em}.project-card{background:var(--card-bg-color);border-radius:16px;padding:2.5em;margin:2em 0;box-shadow:0 1px 3px rgba(0,0,0,.1);transition:all .3s ease;border:1px solid var(--border-color);position:relative;overflow:hidden}.project-card:before {content:'';position:absolute;top:0;left:0;right:0;height:3px;background:linear-gradient(90deg,var(--primary-color),var(--callout-tip-color));opacity:0;transition:opacity .3s ease}.project-card:hover {transform:translateY(-4px);box-shadow:0 10px 40px rgba(0,0,0,.1)}.project-card:hover:before {opacity:1}body.dark .project-card{background:var(--card-bg-color);border:1px solid var(--border-color)}.project-title{font-size:1.25em;color:var(--primary-color);margin:0 0 16px 0;font-weight:600;letter-spacing:-0.01em}.project-desc{color:var(--text-color);line-height:1.65;font-size:.95em;margin-bottom:24px;font-weight:400}.project-links{display:flex;gap:12px;flex-wrap:wrap;margin-bottom:24px}.link-button{display:inline-flex;align-items:center;gap:8px;padding:10px 16px;border-radius:8px;background:var(--primary-pale-color);color:var(--primary-color);text-decoration:none;transition:all .2s ease;font-weight:500;font-size:.9em}.link-button:hover {background:var(--primary-color);color:var(--bg-color);transform:translateY(-1px);box-shadow:0 4px 12px rgba(0,0,0,.15)}.media-section{margin:0;padding-top:24px;border-top:1px solid var(--border-color)}.media-label{display:block;color:var(--text-pale-color);margin-bottom:12px;font-weight:500;font-size:.9em}.media-links{display:flex;gap:16px;flex-wrap:wrap}.media-links a{color:var(--primary-color);text-decoration:none;padding:4px 0;border-bottom:1px solid transparent;transition:all .2s ease;font-weight:500}.media-links a:hover {border-bottom-color:var(--primary-color);color:var(--primary-color)}.project-tags{display:flex;gap:8px;flex-wrap:wrap;margin-top:20px}.tag{font-size:.8em;color:var(--text-pale-color);padding:6px 12px;border-radius:20px;background:var(--primary-pale-color);font-weight:500}.portfolio-intro{padding:5em 2em 3em;text-align:center;max-width:800px;margin:0 auto}.portfolio-intro h1{font-size:2.5em;margin-bottom:.5em;color:var(--primary-color);font-weight:700;letter-spacing:-0.025em}.portfolio-intro p{color:var(--text-pale-color);font-size:1.1em;line-height:1.6;max-width:600px;margin:0 auto;font-weight:400}.viz-card{background:var(--card-bg-color);border-radius:16px;padding:2.5em;margin:2.5em auto;box-shadow:0 1px 3px rgba(0,0,0,.1);transition:all .3s ease;max-width:800px;border:1px solid var(--border-color);position:relative;overflow:hidden}.viz-card:before {content:'';position:absolute;top:0;left:0;right:0;height:3px;background:linear-gradient(90deg,var(--callout-note-color),var(--callout-question-color));opacity:0;transition:opacity .3s ease}.viz-card:hover {transform:translateY(-4px);box-shadow:0 10px 40px rgba(0,0,0,.1)}.viz-card:hover:before {opacity:1}body.dark .viz-card{background:var(--card-bg-color);border:1px solid var(--border-color)}.viz-header{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:1.5em;flex-wrap:wrap;gap:1em}.viz-header h2{font-size:1.5em;margin:0;color:var(--primary-color);font-weight:600;letter-spacing:-0.015em}.viz-tags{display:flex;gap:8px;flex-wrap:wrap}.viz-description{color:var(--text-color);line-height:1.65;margin:1em 0 2em;font-weight:400}.viz-container{border-radius:12px;overflow:hidden;background:white;margin:1.5em 0;box-shadow:0 2px 8px rgba(0,0,0,.05);border:1px solid var(--border-color);position:relative;display:flex;justify-content:center}.viz-container-wrapper{max-width:900px;margin:0 auto;padding:0 2em}.viz-links{margin-top:24px;display:flex;gap:12px;flex-wrap:wrap}.viz-link{display:inline-flex;align-items:center;gap:8px;color:var(--primary-color);text-decoration:none;padding:10px 16px;border-radius:8px;background:var(--primary-pale-color);transition:all .2s ease;font-weight:500}.viz-link:hover {background:var(--primary-color);color:var(--bg-color);transform:translateY(-1px);box-shadow:0 4px 12px rgba(0,0,0,.15)}.viz-link svg{transition:transform .2s ease}.viz-link:hover svg {transform:translateX(2px)}.viz-container iframe{width:100%;min-width:600px;border:none;background:white;margin:auto}@media (max-width:768px){.projects-container,.viz-container-wrapper{padding:1em}.project-card,.viz-card{margin:1.5em auto;padding:1.5em;-webkit-tap-highlight-color:transparent}.portfolio-intro{padding:3em 1.5em 2em}.portfolio-intro h1{font-size:2em}.viz-header{flex-direction:column}.viz-container{margin:.5em -1em;padding:0 1em;border-left:4px solid var(--primary-color);justify-content:flex-start;border-radius:0}}@media (hover:none){.project-card:active,.viz-card:active {transform:scale(0.98);transition:transform .1s ease}.link-button:active,.viz-link:active {opacity:.7;transform:scale(0.95)}}</style><link href=/main.css rel=stylesheet><body class=post><dialog class=modal id=coffee-modal><div class=modal-content><h3>üëã Before reaching out...</h3><ul><li>Don't be shy! I'm always happy to chat about data, economics, or anything else. If you are a student or just starting out in the field, I'm also happy to provide advice or guidance on the usual stuff (e.g. whether to do a PhD, whether a pre-doc is worth it, alternative career paths, etc.).<li>If you add me on LinkedIn, please drop a brief note explaining why you want to connect. I generally don't accept invites without context (unless we're clearly in the same data/econ/policy bubble).<li>I am not a hiring manager and can't provide specific interview advice for EBRD roles. If you ask me about this, I will refer you to publicly available resources and wish you the best of luck!</ul><button class=modal-close>Got it!</button></div></dialog><script>document.addEventListener('DOMContentLoaded',function(){const a=document.getElementById('coffee-modal');const b=document.getElementById('coffee-btn');const c=document.querySelector('.modal-close');if(a){a.style.opacity='0';a.style.transform='scale(0.95)'};if(b){b.addEventListener('click',d=>{d.preventDefault();a.showModal();requestAnimationFrame(()=>{requestAnimationFrame(()=>{a.style.opacity='1';a.style.transform='scale(1)'})})})};if(c){c.addEventListener('click',()=>{a.style.opacity='0';a.style.transform='scale(0.95)';setTimeout(()=>{a.close()},200)})};if(a){a.addEventListener('click',d=>{const e=a.getBoundingClientRect();if(d.clientX<e.left||d.clientX>e.right||d.clientY<e.top||d.clientY>e.bottom){a.style.opacity='0';a.style.transform='scale(0.95)';setTimeout(()=>{a.close()},200)}})}})</script><script>const theme=sessionStorage.getItem('theme');const match=window.matchMedia("(prefers-color-scheme: dark)").matches;if(theme&&theme=='dark'||!theme&&match){document.body.classList.add('dark');const a=document.querySelector('link#hl');if(a)a.href='/hl-dark.css'}</script><header class=blur><div id=header-wrapper><nav><a class=instant href=/>pablo garc√≠a-guzm√°n</a><button aria-label="toggle expand" class=separator id=toggler>::</button><span class="wrap left fold">{</span><a class=instant href=/blog>blog</a><span class="wrap-separator fold">,</span><a class="instant fold" href=/projects>data projects</a><span class="wrap-separator fold">,</span><a class="instant fold" href=/policy>policy</a><span class="wrap right fold">} ;</span></nav><div id=btns><button aria-label="theme switch" data-moon-icon='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path d="M10 7C10 10.866 13.134 14 17 14C18.9584 14 20.729 13.1957 21.9995 11.8995C22 11.933 22 11.9665 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C12.0335 2 12.067 2 12.1005 2.00049C10.8043 3.27098 10 5.04157 10 7ZM4 12C4 16.4183 7.58172 20 12 20C15.0583 20 17.7158 18.2839 19.062 15.7621C18.3945 15.9187 17.7035 16 17 16C12.0294 16 8 11.9706 8 7C8 6.29648 8.08133 5.60547 8.2379 4.938C5.71611 6.28423 4 8.9417 4 12Z" fill="currentColor"></path></svg>' data-sun-icon='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path d="M12 18C8.68629 18 6 15.3137 6 12C6 8.68629 8.68629 6 12 6C15.3137 6 18 8.68629 18 12C18 15.3137 15.3137 18 12 18ZM12 16C14.2091 16 16 14.2091 16 12C16 9.79086 14.2091 8 12 8C9.79086 8 8 9.79086 8 12C8 14.2091 9.79086 16 12 16ZM11 1H13V4H11V1ZM11 20H13V23H11V20ZM3.51472 4.92893L4.92893 3.51472L7.05025 5.63604L5.63604 7.05025L3.51472 4.92893ZM16.9497 18.364L18.364 16.9497L20.4853 19.0711L19.0711 20.4853L16.9497 18.364ZM19.0711 3.51472L20.4853 4.92893L18.364 7.05025L16.9497 5.63604L19.0711 3.51472ZM5.63604 16.9497L7.05025 18.364L4.92893 20.4853L3.51472 19.0711L5.63604 16.9497ZM23 11V13H20V11H23ZM4 11V13H1V11H4Z" fill="currentColor"></path></svg>' id=theme-toggle><svg viewbox="0 0 24 24" height=20 width=20 xmlns=http://www.w3.org/2000/svg><path d="M10 7C10 10.866 13.134 14 17 14C18.9584 14 20.729 13.1957 21.9995 11.8995C22 11.933 22 11.9665 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C12.0335 2 12.067 2 12.1005 2.00049C10.8043 3.27098 10 5.04157 10 7ZM4 12C4 16.4183 7.58172 20 12 20C15.0583 20 17.7158 18.2839 19.062 15.7621C18.3945 15.9187 17.7035 16 17 16C12.0294 16 8 11.9706 8 7C8 6.29648 8.08133 5.60547 8.2379 4.938C5.71611 6.28423 4 8.9417 4 12Z" fill=currentColor></path></svg></button><button aria-label="table of content" id=toc-toggle><svg viewbox="0 0 24 24" height=20 width=20 xmlns=http://www.w3.org/2000/svg><path d="M3 4H21V6H3V4ZM3 11H15V13H3V11ZM3 18H21V20H3V18Z" fill=currentColor></path></svg></button></div></div></header><div id=wrapper><div id=blank></div><aside><nav><ul><li><a class=h2 href=#introduction>Introduction</a><li><a class=h2 href=#data>Data</a><li><a class=h2 href=#methodology>Methodology</a> <ul><li><a class=h3 href=#the-fundamentals>The fundamentals</a><li><a class=h3 href=#modeling-births-to-foreign-born-mothers>Modeling births to foreign-born mothers</a><li><a class=h3 href=#a-basic-births-and-deaths-projection-model>A basic births-and-deaths projection model</a><li><a class=h3 href=#estimating-the-initial-stock-of-nbf-and-nbnm-individuals>Estimating the initial stock of NBF and NBNM individuals</a><li><a class=h3 href=#handling-migration>Handling migration</a></ul><li><a class=h2 href=#results>Results</a> <ul><li><a class=h3 href=#some-external-validation>Some external validation</a></ul><li><a class=h2 href=#conclusion>Conclusion</a></ul></nav><button aria-label="back to top" id=back-to-top><svg viewbox="0 0 24 24" height=24 width=24 xmlns=http://www.w3.org/2000/svg><path d="M11.9997 10.8284L7.04996 15.7782L5.63574 14.364L11.9997 8L18.3637 14.364L16.9495 15.7782L11.9997 10.8284Z" fill=currentColor></path></svg></button></aside><main><div><div data-check-icon='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path d="M10.0007 15.1709L19.1931 5.97852L20.6073 7.39273L10.0007 17.9993L3.63672 11.6354L5.05093 10.2212L10.0007 15.1709Z" fill="currentColor"></path></svg>' data-copy-icon='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path d="M6.9998 6V3C6.9998 2.44772 7.44752 2 7.9998 2H19.9998C20.5521 2 20.9998 2.44772 20.9998 3V17C20.9998 17.5523 20.5521 18 19.9998 18H16.9998V20.9991C16.9998 21.5519 16.5499 22 15.993 22H4.00666C3.45059 22 3 21.5554 3 20.9991L3.0026 7.00087C3.0027 6.44811 3.45264 6 4.00942 6H6.9998ZM5.00242 8L5.00019 20H14.9998V8H5.00242ZM8.9998 6H16.9998V16H18.9998V4H8.9998V6Z" fill="currentColor"></path></svg>' id=copy-cfg style=display:none></div><article data-backlink-icon='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path d="M9.41421 8L18.0208 16.6066L16.6066 18.0208L8 9.41421V17H6V6H17V8H9.41421Z" fill="currentColor"></path></svg>' class=prose><h1>A demographic projection of Spain's native-born population: quantifying the stock of second-generation immigrants</h1><div id=post-info><div id=date><div id=date><span id=publish>2025-05-08</span></div><div id=reading-time><i class="fa fa-clock-o"></i><span> 10 minute read</span></div></div><div id=tags><a class=instant href=https://pablogguz.github.io//tags/demography><span>#</span>demography</a><a class=instant href=https://pablogguz.github.io//tags/spain><span>#</span>spain</a><a class=instant href=https://pablogguz.github.io//tags/immigration><span>#</span>immigration</a></div></div><blockquote class="callout alert hidden" data-alert-text-after=" days ago and may be out of date." data-alert-text-before="This article was last updated " data-days=120 id=outdate_alert><div class=icon><svg viewbox="0 0 24 24" height=20 width=20 xmlns=http://www.w3.org/2000/svg><path d="M4.00098 20V14C4.00098 9.58172 7.5827 6 12.001 6C16.4193 6 20.001 9.58172 20.001 14V20H21.001V22H3.00098V20H4.00098ZM6.00098 20H18.001V14C18.001 10.6863 15.3147 8 12.001 8C8.68727 8 6.00098 10.6863 6.00098 14V20ZM11.001 2H13.001V5H11.001V2ZM19.7792 4.80761L21.1934 6.22183L19.0721 8.34315L17.6578 6.92893L19.7792 4.80761ZM2.80859 6.22183L4.22281 4.80761L6.34413 6.92893L4.92991 8.34315L2.80859 6.22183ZM7.00098 14C7.00098 11.2386 9.23956 9 12.001 9V11C10.3441 11 9.00098 12.3431 9.00098 14H7.00098Z" fill=currentColor></path></svg></div><div class=content></div></blockquote><img src=/img/bull.png width=500><br><h1 id=introduction>Introduction<a aria-label="Anchor link for: introduction" class=zola-anchor href=#introduction style=visibility:hidden>#</a></h1><p>Spain's demographic structure is changing ‚Äî and fast. In 1998, the stock of foreign-born residents was just 2.9% of the total population. By 2024, this figure had skyrocketed to 18.2%, with nearly one in five residents born outside Spain. Among the prime working-age population (ages 25-54), the share of foreign-born individuals has reached 26.8% nationally, and in provinces hosting major urban and economic centers (like Madrid or Barcelona) it is as high as ~35%. That is more than one in three people! <sup class=footnote-reference><a href=#1>1</a></sup><p>This demographic shift extends beyond the first generation of migrants. The children of immigrants ‚Äî often referred to as "second-generation immigrants" or, more precisely, native-born individuals with foreign-born parents ‚Äî represent an increasingly important demographic group whose size and characteristics will shape Spain's social and economic landscape in the coming decades.<p>Unfortunately, there is no readily available data on the number of second-generation immigrants over time in Spain. To bridge this gap, <strong>in this post I present a methodological framework for projecting the share of native-born individuals with foreign-born mothers across Spanish provinces from 2024 to 2039</strong>. To the best of my knowledge, this is the first attempt to estimate and project the size of this population group into the future. The methodology integrates multiple data sources from Spain's National Statistical Office (<em>Instituto Nacional de Estad√≠stica</em>, hereafter INE) and employs simple, fully-reproducible modeling techniques to produce province-level projections of this increasingly important population segment.<h1 id=data>Data<a aria-label="Anchor link for: data" class=zola-anchor href=#data style=visibility:hidden>#</a></h1><p>The projection methodology I propose draws on multiple datasets. All data is publicly available and can be accessed through INE's website:<ul><li><a href="https://www.ine.es/dyngs/INEbase/es/operacion.htm?c=Estadistica_C&cid=1254736176953&menu=ultiDatos&idp=1254735572981" rel="nofollow noreferrer"><strong>Population projections (2024-2039)</strong></a>: This is the backbone of the analysis. The projections (elaborated by INE) provide estimates of Spain's future population broken down by basic demographic characteristics following cohort component methods, which are the international standard for population projections. The projections also include mortality indicators, which will be used to estimate survival probabilities for each age group. All the projections used in the analysis correspond to the "central" (baseline) scenario. One way to think about this baseline scenario is as a "business as usual" projection, which assumes that current demographic trends (birth rates, death rates, and migration patterns) will continue into the future along their present trajectory.<li><a href="https://www.ine.es/dyngs/INEbase/es/operacion.htm?c=Estadistica_C&cid=1254736177007&menu=ultiDatos&idp=1254735573002" rel="nofollow noreferrer"><strong>Birth statistics</strong></a>: The births microdata allows me to establish the baseline proportion of births to foreign-born mothers in each province and provides historical data for modeling the relationship between foreign-born female population and births to foreign-born mothers.<li><a href="https://www.ine.es/dyngs/INEbase/en/operacion.htm?c=Estadistica_C&cid=1254736177092&menu=ultiDatos&idp=1254735572981" rel="nofollow noreferrer"><strong>Survey on Essential Characteristics of Population and Housing (ECEPOV-2021)</strong></a>: This household survey, conducted by INE in 2021, complements the 2021 census by providing information not available in administrative registers ‚Äî in particular, the ECEPOV-2021 will allow me to calculate the existing share of native-born individuals with foreign-born mothers by age and province in 2021. This will provide the baseline structure for the projections.</ul><h1 id=methodology>Methodology<a aria-label="Anchor link for: methodology" class=zola-anchor href=#methodology style=visibility:hidden>#</a></h1><h2 id=the-fundamentals>The fundamentals<a aria-label="Anchor link for: the-fundamentals" class=zola-anchor href=#the-fundamentals style=visibility:hidden>#</a></h2><p>Let's start with the basics. The classic equation that demographers use to track population changes (in its discrete form) is quite simple:<p>$$N_{t+1} = N_t + B_t - D_t + I_t - E_t$$<p>where $N_t$ is the population at time $t$, $B_t$ is births, $D_t$ is deaths, $I_t$ is immigration, and $E_t$ is emigration. This equation captures the fundamental flows that shape population: we start with last year's population, add new births, subtract deaths, and account for people moving in and out.<p>Let me now write down a slightly more refined version of the equation above that accounts for age structure:<p>$$N(a+1,t+1) = N(a,t) \times s(a,t) + M(a,t)$$<p>Here, $N(a,t)$ represents the population of age $a$ at time $t$, while $s(a,t)$ is the survival probability (the chance someone of age $a$ survives to age $a+1$), and $M(a,t)$ captures net migration (immigration minus emigration) of that particular age group. For example, to find next year's 30-year-olds, take this year's 29-year-olds, calculate how many will survive to age 30, and add any net migration of 30-year-olds.<p>Now, we're specifically interested in the stock of second-generation immigrants. <strong>For simplicity, I will define this group as native-born individuals with foreign-born mothers (hereafter NBF)</strong>. We can then decompose the total population into three mutually exclusive groups:<p>$$N(a,t) = NBF(a,t) + NBNM(a,t) + FB(a,t)$$<p>where:<ul><li>$NBF(a,t)$ is the native-born population with foreign-born mothers<li>$NBNM(a,t)$ is the native-born population with native-born mothers<li>$FB(a,t)$ is the foreign-born population</ul><p>Each component follows the same demographic principles but differs in how new members enter the population:<table><thead><tr><th>Population group<th>Change equation<th>Newborns<tbody><tr><td>Native-born with foreign-born mothers (NBF)<td>$NBF(a+1,t+1) = NBF(a,t) \times s(a,t) + M_{NBF}(a,t)$<td>$NBF(0,t+1) = B(t) \times s_{infant}(p,t) \times \Phi_{FB}(t) + M_{NBF}(0,t)$<tr><td>Native-born with native-born mothers (NBNM)<td>$NBNM(a+1,t+1) = NBNM(a,t) \times s(a,t) + M_{NBNM}(a,t)$<td>$NBNM(0,t+1) = B(t) \times s_{infant}(p,t) \times (1 - \Phi_{FB}(t)) + M_{NBNM}(0,t)$<tr><td>Foreign-born population (FB)<td>$FB(a+1,t+1) = FB(a,t) \times s(a,t) + M_{FB}(a,t)$<td>$FB(0,t+1) = M_{FB}(0,t)$</table><p>In the table above, $\Phi_{FB}(t)$ is the share of births to foreign-born mothers in year $t$, and $M_{NBF}(a,t)$, $M_{NBNM}(a,t)$, and $M_{FB}(a,t)$ are the migration flows for each population group.<p>Notice that $s_{infant}(p,t) \neq s(p,0,t)$. The intuition is the following. Demographic projections typically reference population stocks as of January 1st of each year, which means that the age 0 population at time $t+1$ consists of children born during year $t$ who survived to January 1st. Since births occur throughout year $t$, newborns are exposed to mortality risk for only part of the year on average. To account for this partial-year exposure, I use an adjusted infant survival probability that differs from standard age-specific survival rates:<p>$$s_{infant}(p,t) = 1 - 0.5 \times m(0,p,t)$$<p>where $m(0,p,t)$ is the mortality rate for age 0 in province $p$ during year $t$. The 0.5 multiplier reflects that, on average, newborns are exposed to mortality risk for approximately half a year before reaching the January 1st reference date.<h2 id=modeling-births-to-foreign-born-mothers>Modeling births to foreign-born mothers<a aria-label="Anchor link for: modeling-births-to-foreign-born-mothers" class=zola-anchor href=#modeling-births-to-foreign-born-mothers style=visibility:hidden>#</a></h2><p>To project future demographic patterns accurately, we need some assumption(s) on how the proportion of births to foreign-born mothers will evolve over time. In particular, this key parameter isn't static but fluctuates in response to changes in the foreign-born female population. One simple way to think about it is using a <strong>linear regression model that links the share of foreign-born women in a province to the percentage of births to foreign-born mothers in that same province</strong>:<p>$$\Phi_{FB}(p,t) = \alpha_p + \beta \times \frac{\text{Foreign-born females} (p,t)}{\text{Total females} (p,t)} + \varepsilon_{p,t}$$<p>where:<ul><li>$\Phi_{FB}(p,t)$ is the share of births to foreign-born mothers in province $p$ at time $t$<li>$\alpha_p$ represents province fixed effects<li>$\beta$ is a global elasticity coefficient<li>$\frac{\text{Foreign-born females} (p,t)}{\text{Total females} (p,t)}$ is the proportion of women in province $p$ at time $t$ who were born abroad.</ul><p>I estimate the equation above using data from 2009 to 2023, and then apply the estimated coefficients to projected foreign-born population shares through 2039. In the out-of-sample exercise, the number of foreign-born females is calibrated to match the ratio of overall foreign-born population to the total population in each province and year. That is:<p>$$\frac{\text{Foreign-born females} (p,t)}{\text{Total females} (p,t)} = \frac{\text{Foreign-born population} (p,t)}{\text{Total population} (p,t)} = \gamma(p,t)$$<p>Ideally, one would use the foreign-born share among the female population of childbearing age (15-49) instead of the overall share of foreign-born women, but unfortunately INE's projections do not provide this breakdown (which makes the out-of-sample prediction exercise unfeasible unless otherwise estimated). For simplicity, I use the overall share as a proxy.<h2 id=a-basic-births-and-deaths-projection-model>A basic births-and-deaths projection model<a aria-label="Anchor link for: a-basic-births-and-deaths-projection-model" class=zola-anchor href=#a-basic-births-and-deaths-projection-model style=visibility:hidden>#</a></h2><p>Let's abstract from migration for a second. Under a pure births-and-deaths framework, or each province $p$ and year $t$, the population of age $a$ in year $t+1$ is given by:<p>$$\hat{N}(p,a,t+1) = \underbrace{\hat{N}(p,a-1,t) \times s(p,a-1,t)}_{\text{Aging and survival of last year's population}}$$<p>Similarly, for the native-born population with foreign-born mothers and native-born population with native-born mothers:<p>$$\widehat{NBF}(p,a,t+1) = \underbrace{\widehat{NBF}(p,a-1,t) \times s(p,a-1,t)}_{\text{Aging and survival of last year's NBF population}}$$<p>$$\widehat{NBNM}(p,a,t+1) = \underbrace{\widehat{NBNM}(p,a-1,t) \times s(p,a-1,t)}_{\text{Aging and survival of last year's NBNM population}}$$<p>And for newborns:<p>$$\widehat{NBF}(p,0,t+1) = B(p,t) \times s_{infant}(p,t) \times \widehat{\Phi_{FB}}(p,t)$$<p>$$\widehat{NBNM}(p,0,t+1) = B(p,t) \times s_{infant}(p,t) \times (1-\widehat{\Phi_{FB}}(p,t))$$<p>where $\widehat{\Phi_{FB}}(p,t)$ is estimated using the predicted values from the regression model:<p>$$\widehat{\Phi_{FB}}(p,t)= \widehat{\alpha_p} + \widehat{\beta} \times \gamma(p,t)$$<h2 id=estimating-the-initial-stock-of-nbf-and-nbnm-individuals>Estimating the initial stock of NBF and NBNM individuals<a aria-label="Anchor link for: estimating-the-initial-stock-of-nbf-and-nbnm-individuals" class=zola-anchor href=#estimating-the-initial-stock-of-nbf-and-nbnm-individuals style=visibility:hidden>#</a></h2><p>At the start of the projection, we need the counts of NBF and NBNM individuals by age and province ‚Äî a level of detail INE does not publish. To establish a coherent baseline, I draw on ECEPOV 2021-microdata and proceed as follows.<p>First, I classify every repsondent in the ECEPOV-2021 sample into one of three groups: (1) native-born individuals with a foreign-born mother (NBF), (2) native-born individuals with a native-born mother (NBNM), and (3) foreign-born individuals (FB). For all individuals born in Spain with unknown maternal birthplace, I follow a deliberatively conservative approach and classify them as having native-born mothers to avoid overestimating the size of the NBF group. Thus, the results presented here should be interpreted as a <em>lower bound</em> on the number of second-generation immigrants.<p>Now, remember that the goal is to produce population counts as of January 1 each year, but the fieldwork for ECEPOV was conducted in mid-2021. To simplify things, I treat the survey snapshot as if it were taken on January 1, 2022, and then project forward two full years of births and deaths to reach January 1, 2024 using the model described above. This generates preliminary age $\times$ province estimates for each subgroup of interest (NBF and NBNM), reflecting how populations would have evolved absent migration.<p>Second, because INE only reports the <em>total</em> population by age and province (including foreign‚Äëborn) ‚Äî denoted $N^{INE}(p,a,2024)$ ‚Äî I allocate that total across our three groups in the exact proportions implied by the ECEPOV projection. In practice:<p>$$NBF(p,a,2024) = \frac{\widehat NBF^{ECEPOV}(p,a,2024)}{\widehat N^{ECEPOV}(p,a,2024)} \times N^{INE}(p,a,2024)$$<p>and similarly for NBNM. Essentially, this rescaling preserves the relative proportions from the survey estimates.<p>Since the total number of NBF and NBNM individuals in each age $\times$ province cell at baseline are now defined, we have all the necessary data to project both populations forward. However, it is important to note that at every intermediate at every step of the projection ‚Äî both in establishing the baseline and in year-to-year changes ‚Äî the absolute numbers of NBF and NBNM individuals remain misaligned with INE's official native-born population totals. This stems from two factors: (1) small differences between the native-born population shares in the ECEPOV survey and the true native-born shares in the population in 2021, and (2) the fact that the births-and-deaths projections model abstracts from migration flows. To correct for this, in the next step I re-anchor NBF and NBNM sums to INE‚Äôs native-born margins in every province and year using a scaling factor that absorbs any aggregate bias in absolute levels. Intuitively, what persists into the projection is the <em>within-native</em> age $\times$ province ratio of NBF to NBNM individuals, which becomes the true driver of the second-generation relative shares.<h2 id=handling-migration>Handling migration<a aria-label="Anchor link for: handling-migration" class=zola-anchor href=#handling-migration style=visibility:hidden>#</a></h2><p>We have established a basic births-and-deaths projection framework and calibrated the initial stock of NBF and NBNM individuals, which means we have all the necessary data to project both populations forward. But how do we incorporate migration? Rather than attempting to estimate $M_{NBF}(a,t)$ and $M_{NBNM}(a,t)$ directly, <strong>I simply assume that net migration inside the native-born block is allocated in proportion to pre-migration shares within each province.</strong> In other words, if the NBF population is 25% of the native-born population in a province before accounting for migration, I assume it will remain 25% after migration. To formalize this intuition mathematically, consider the following derivation.<p>Let<ul><li>$\hat{N}(p,t)$ ‚Äì birth-and-death projection for the total population (no migration)<li>$N^{INE}(p,t)$ ‚Äì INE's official projection for the total population (includes migration)<li>$\widehat{Native}(p,t)$ ‚Äì birth-and-death projection for native-born population (no migration)<li>$Native^{INE}(p,t)$ ‚Äì INE's official projection for native-born population (includes migration)<li>$\widehat{NBF}(p,t)$ ‚Äì birth-and-death projection for the NBF population<li>$NBF(p,t)$ ‚Äì true, unknown NBF stock we want</ul><p>Using INE's projections for native and foreign-born populations, I calculate the net migration for the native-born population for each province and year:<p>$$M_{Native}(p,t) = Native^{INE}(p,t) - \widehat{Native}(p,t)$$<p>Within the native-born population, I assume that net migration is split in proportion to each subgroup's share:<p>$$\frac{M_{NBF}(p,t)}{M_{Native}(p,t)} = \frac{\widehat{NBF}(p,t)}{\widehat{Native}(p,t)}$$<p>This can be rearranged to:<p>$$M_{NBF}(p,t) = M_{Native}(p,t) \times \frac{\widehat{NBF}(p,t)}{\widehat{Native}(p,t)}$$<p>Therefore:<p>$$NBF(p,t) = \widehat{NBF}(p,t) + M_{NBF}(p,t)$$ $$NBF(p,t) = \widehat{NBF}(p,t) \left(1 + \frac{M_{Native}(p,t)}{\widehat{Native}(p,t)}\right)$$ $$NBF(p,t) = \widehat{NBF}(p,t) \frac{Native^{INE}(p,t)}{\widehat{Native}(p,t)}$$<p>Define a province-specific scaling factor for natives:<p>$$\lambda_{Native}(p,t) = \frac{Native^{INE}(p,t)}{\widehat{Native}(p,t)}$$<p>To get the final NBF population, we can then simply multiply:<p>$$\boxed{NBF(p,t) = \widehat{NBF}(p,t) \times \lambda_{Native}(p,t)}$$<p>By anchoring in this way at each projection step, I eliminate any level distortions arising both from the initial two-year projection of ECEPOV-derived shares to the January 1 2024 baseline and from each subsequent year-to-year update, and ensure the NBF and NBNM totals match the native-born population from INE's official projections.<h1 id=results>Results<a aria-label="Anchor link for: results" class=zola-anchor href=#results style=visibility:hidden>#</a></h1><p>The results for the whole country are shown in <a href=#fig1>Figure 1</a>. The share of native-born individuals with native-born mothers will decrease from 77.1% in 2024 to just 62.3% by 2039. In just 15 years, the traditionally dominant demographic group will lose around 15 percentage points of its population. Meanwhile, first-generation immigrants will surge from 18.1% to 28.6% of the population, while second-generation immigrants (native-born with foreign-born mothers) will grow from 4.8% to 9.1%.<p>Put these numbers together, and you get a striking conclusion: <strong>by 2039, nearly 4 in 10 Spanish residents will be either immigrants themselves or the children of immigrants</strong>. This represents one of the most rapid demographic transformations in modern European history.<figure id=fig1><figcaption>Figure 1</figcaption><img style="width:100%;border:0 none" loading=lazy src=/img/pop_composition_total_nacional.png></figure><p>However, the national picture masks a profound regional divergence. As <a href=#fig2>Figure 2</a> reveals, Spain will fracture into two distinct demographic realities.<p>In Southern provinces like C√≥rdoba, Ja√©n, and Badajoz ‚Äî areas with traditionally agrarian economies and fewer economic opportunities ‚Äî the demographic composition will remain relatively stable. Here, native-born individuals with native-born mothers will still comprise close to 90% of the population by 2039, preserving much of the traditional demographic character. <strong>But along the Mediterranean coast and in economic powerhouses like Madrid and Barcelona, a dramatically different Spain is emerging: in these regions, immigrant and second-generation populations combined will approach or even exceed 50% of the total population by 2039</strong>.<p>In Spain's most economically vital and populous areas, the native-origin population will be close to becoming a minority in less than 15 years. Absent any major shifts in migration patterns, the municipalities of Madrid and Barcelona will transform into multicultural hubs more reminiscent of London or New York than the Spain of previous generations.<sup class=footnote-reference><a href=#2>2</a></sup><figure id=fig2><figcaption>Figure 2</figcaption><img style="width:100%;border:0 none" loading=lazy src=/img/native_share_dumbbell.png></figure><p>The scale of this shift becomes even more striking when we consider the age distribution. By 2039, the immigrant-origin population (first and second generation combined) will be substantially overrepresented among Spain's working-age population, while the native-origin population will be disproportionately concentrated among older age groups.<p>We can do a simple back-of-the-envelope calculation to illustrate this point. In 2024, foreign-born individuals constituted 23.1% of Spain's working-age population (ages 15-64), despite representing only 18.2% of the total population‚Äîan overrepresentation factor of 1.27. Projecting this pattern forward, by 2039, foreign-born individuals will comprise approximately 36.3% of Spain's working-age population (28.6% $\times$ 1.27).<p>Among the remaining native-born segment (63.7% of the working-age population), second-generation immigrants will represent about 10.3%, translating to 6.6% of the total working-age population. <strong>When combined, these figures imply that, by 2039, approximately 43% of Spain's workforce ‚Äî over one in four working-age individuals ‚Äî will be either first or second-generation immigrants.</strong><h2 id=some-external-validation>Some external validation<a aria-label="Anchor link for: some-external-validation" class=zola-anchor href=#some-external-validation style=visibility:hidden>#</a></h2><p>At this point, you might be wondering how well these projections align with other estimates available and whether they are reasonable at all.<p>While it is tricky to validate the long-term projections against other estimates since the latter are simply not available (or at least I am not aware of any of them), we can still cross-check the estimates at the 2024 baseline against historical data. In particular, since 2021, Eurostat has been publishing data on population totals for different segments of the working-age population by migration group (see <a href="https://ec.europa.eu/eurostat/databrowser/view/lfsa_pgaccpm__custom_16608096/default/table?lang=en&page=time:2021" rel="nofollow noreferrer">here</a>). In 2024, Eurostat reports that native-born individuals with at least one foreign-born parent (they don‚Äôt break out figures for foreign-born mothers alone) constitute 3.80% of Spain's working-age population. To be extremely tedious, I recalculated my projections using the same definition ‚Äî either parent foreign-born rather than just mothers ‚Äî and obtained 3.75% for the same year. This is a difference of only 0.05 percentage points relative to official counts, which is well within the margin of error.<h1 id=conclusion>Conclusion<a aria-label="Anchor link for: conclusion" class=zola-anchor href=#conclusion style=visibility:hidden>#</a></h1><p>What we're witnessing in Spain is nothing short of a demographic revolution. In just over 40 years (1998-2039), Spain will have transformed from a country where foreign-born residents were a tiny minority (2.9%) to one where nearly 40% of residents will be either immigrants themselves or their children.<p>One cannot help but wonder about the broader implications of such a dramatic shift -- the social reality these projections predict will inevitably reshape Spanish society. How will regional identities evolve when the composition of the population changes so fundamentally? What will happen, for instance, to regional languages like Catalan or Basque, which have historically been maintained through intergenerational transmission among native populations? And what happens when different regions within the same country experience such divergent demographic trajectories?<p>These are empirical questions that only time will answer, but history suggests that rapid demographic changes often precede significant social and political realignments. Spain, in this sense, may serve as an important case study for other European nations in the coming decades.<hr><div class=footnote-definition id=1><sup class=footnote-definition-label>1</sup><p>If you are curious, I developed an interactive visualization tool to explore data on the international migrant stock in Spain since 1998 to the present using microdata from administrative municipal registers and censuses. Check it out: <a rel="nofollow noreferrer" href=http://dedonde.es/>http://dedonde.es/</a>.</div><div class=footnote-definition id=2><sup class=footnote-definition-label>2</sup><p>With the caveat that, compared to London or New York, origin countries are much more concentrated in Spanish cities. For example, individuals born in Latin America accounted for roughly 48% of the total foreign-born population stock at the national level in 2024.</div></article><div class=giscus></div></div><footer><div class=copyright><p>made by pablo w/ ‚ù§Ô∏è ¬© 2024</div><div class=credits>powered by <a rel="noreferrer noopener" href=https://www.getzola.org target=_blank>zola</a> and <a rel="noreferrer noopener" href=https://github.com/isunjn/serene target=_blank>serene</a></div><div class=disclaimer><p>All the content shared on this website is completely my own and does not reflect the views of the EBRD</div></footer></main></div><script src=/js/lightense.min.js></script><script src=/js/main.js></script>